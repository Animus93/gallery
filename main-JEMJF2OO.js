import{$a as g,Aa as Z,Ba as J,Ca as K,F as s,I as r,K as u,Q as C,S as p,Ua as _,Wa as F,Xa as b,Y as a,Ya as D,Z as n,Za as R,_ as c,_a as w,ba as P,bb as A,cb as k,d as h,db as Q,eb as S,ka as m,l as O,pa as z,pb as f,qb as y,rb as W,sb as X,tb as Y,ua as V,va as q,wa as H,xa as $,ya as I,za as d}from"./chunk-66S2KZYB.js";var E=class i{constructor(o,t,e){this.authService=o;this.usersService=t;this.router=e}_unsubscribe=new h;loginForm=new w({login:new g("",[b.required]),password:new g("",[b.required])});ngOnInit(){}login(){this.authService.login(this.loginForm.value).pipe(O(this._unsubscribe)).subscribe({next:()=>{this.router.navigate(["/start"])},error:o=>this.authService.alert(o)})}ngOnDestroy(){this._unsubscribe.next(null),this._unsubscribe.complete()}static \u0275fac=function(t){return new(t||i)(r(f),r(y),r(d))};static \u0275cmp=u({type:i,selectors:[["app-login"]],decls:14,vars:8,consts:[[1,"container"],[1,"form",3,"formGroup"],[1,"form-item"],[1,"item-title"],["formControlName","login",1,"item-input"],["formControlName","password",1,"item-input"],[1,"controls"],["id","my-button","mat-button","",1,"btn",3,"click","disabled"],[1,"btn-content"]],template:function(t,e){if(t&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),m(4,"\u041B\u043E\u0433\u0438\u043D"),n(),c(5,"input",4),n(),a(6,"div",2)(7,"div",3),m(8,"\u041F\u0430\u0440\u043E\u043B\u044C"),n(),c(9,"input",5),n(),a(10,"div",6)(11,"button",7),P("click",function(){return e.login()}),a(12,"div",8),m(13,"\u0412\u043E\u0439\u0442\u0438"),n()()()()()),t&2){let l,v;s(),C("formGroup",e.loginForm),s(4),p("error",(l=e.loginForm.get("login"))==null?null:l.errors),s(4),p("error",(v=e.loginForm.get("password"))==null?null:v.errors),s(2),C("disabled",e.loginForm.invalid||e.loginForm.pristine),s(),p("disabled",e.loginForm.invalid||e.loginForm.pristine)}},dependencies:[_,S,F,D,R,A,k],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:16px;width:min(100%,400px)}.form-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1}.item-title[_ngcontent-%COMP%]{font-size:12px}.item-input[_ngcontent-%COMP%]{outline:none;border-radius:4px;padding:8px 16px;border:1px solid gray;background:transparent;color:#e1e1e1}.controls[_ngcontent-%COMP%]{display:flex;align-items:center;column-gap:16px}.btn[_ngcontent-%COMP%]{border-radius:40px;padding:8px 16px}.error[_ngcontent-%COMP%]{border:1px solid #d55e5e}.btn-content[_ngcontent-%COMP%]{color:#fff}.btn[_ngcontent-%COMP%]{background-color:transparent;color:#fff;width:100%}.btn[_ngcontent-%COMP%]:active, .btn[_ngcontent-%COMP%]:hover{background:#3c3f41}"],changeDetection:0})};var N=class i{constructor(o,t,e){this.authService=o;this.usersService=t;this.router=e}_unsubscribe=new h;registrationForm=new w({login:new g("",[b.required]),firstName:new g("",[b.required]),lastName:new g(""),password:new g("",[b.required])});ngOnInit(){}submit(){this.authService.singUp(this.registrationForm.value).pipe(O(this._unsubscribe)).subscribe({next:()=>{this.router.navigate(["/start"])},error:o=>this.authService.alert(o)})}ngOnDestroy(){this._unsubscribe.next(null),this._unsubscribe.complete()}static \u0275fac=function(t){return new(t||i)(r(f),r(y),r(d))};static \u0275cmp=u({type:i,selectors:[["app-registration"]],decls:22,vars:12,consts:[[1,"container"],[1,"form",3,"formGroup"],[1,"form-item"],[1,"item-title"],["formControlName","login",1,"item-input"],["formControlName","firstName",1,"item-input"],["formControlName","lastName",1,"item-input"],["formControlName","password",1,"item-input"],[1,"controls"],["id","my-button","mat-button","",1,"btn",3,"click","disabled"],[1,"btn-content"]],template:function(t,e){if(t&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),m(4,"\u041B\u043E\u0433\u0438\u043D"),n(),c(5,"input",4),n(),a(6,"div",2)(7,"div",3),m(8,"\u0418\u043C\u044F"),n(),c(9,"input",5),n(),a(10,"div",2)(11,"div",3),m(12,"\u0424\u0430\u043C\u0438\u043B\u0438\u044F"),n(),c(13,"input",6),n(),a(14,"div",2)(15,"div",3),m(16,"\u041F\u0430\u0440\u043E\u043B\u044C"),n(),c(17,"input",7),n(),a(18,"div",8)(19,"button",9),P("click",function(){return e.submit()}),a(20,"div",10),m(21,"\u0412\u043E\u0439\u0442\u0438"),n()()()()()),t&2){let l,v,x,M;s(),C("formGroup",e.registrationForm),s(4),p("error",(l=e.registrationForm.get("login"))==null?null:l.errors),s(4),p("error",(v=e.registrationForm.get("firstName"))==null?null:v.errors),s(4),p("error",(x=e.registrationForm.get("lastName"))==null?null:x.errors),s(4),p("error",(M=e.registrationForm.get("password"))==null?null:M.errors),s(2),C("disabled",e.registrationForm.invalid||e.registrationForm.pristine),s(),p("disabled",e.registrationForm.invalid||e.registrationForm.pristine)}},dependencies:[Q,F,D,R,_,S,A,k],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:16px;width:min(100%,400px)}.form-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:1}.item-title[_ngcontent-%COMP%]{font-size:12px}.item-input[_ngcontent-%COMP%]{outline:none;border-radius:4px;padding:8px 16px;border:1px solid gray;background:transparent;color:#e1e1e1}.controls[_ngcontent-%COMP%]{display:flex;align-items:center;column-gap:16px}.btn[_ngcontent-%COMP%]{border-radius:40px;padding:8px 16px}.error[_ngcontent-%COMP%]{border:1px solid #d55e5e}.btn-content[_ngcontent-%COMP%]{color:#fff}.btn[_ngcontent-%COMP%]{background-color:transparent;color:#fff;width:100%}.btn[_ngcontent-%COMP%]:active, .btn[_ngcontent-%COMP%]:hover{background:#3c3f41}"],changeDetection:0})};var j=class i{constructor(o,t){this.authService=o;this.router=t;localStorage.getItem("token")&&this.router.navigate(["start"])}static \u0275fac=function(t){return new(t||i)(r(f),r(d))};static \u0275cmp=u({type:i,selectors:[["app-auth"]],decls:14,vars:0,consts:[[1,"container"],[1,"content"],[1,"header"],["mat-button","","routerLink","login","routerLinkActive","active",1,"btn"],[1,"btn-content"],["svgIcon","login"],["mat-button","","routerLink","registration","routerLinkActive","active",1,"btn"],["svgIcon","add_person"]],template:function(t,e){t&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3)(4,"div",4)(5,"div"),m(6,"\u0412\u043E\u0439\u0442\u0438"),n(),c(7,"mat-icon",5),n()(),a(8,"button",6)(9,"div",4)(10,"div"),m(11,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044F"),n(),c(12,"mat-icon",7),n()()(),c(13,"router-outlet"),n()())},dependencies:[Z,J,I,S,_,X],styles:[".container[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:16px;align-items:center;height:100%}.header[_ngcontent-%COMP%]{display:flex;align-items:center}.content[_ngcontent-%COMP%]{display:flex;flex-direction:column;row-gap:16px;padding-top:25vh;width:min(400px,100%)}.toggle[_ngcontent-%COMP%]{width:100%}.btn-content[_ngcontent-%COMP%]{color:#fff;display:flex;align-items:center;column-gap:16px}.btn[_ngcontent-%COMP%]{background-color:transparent;color:#fff;width:100%}.btn[_ngcontent-%COMP%]:active, .btn[_ngcontent-%COMP%]:hover{background:#3c3f41}.active[_ngcontent-%COMP%]{border:1px solid #fff}.mat-pseudo-checkbox[_ngcontent-%COMP%]{display:none}"],changeDetection:0})};var te=[{path:"",pathMatch:"full",redirectTo:"start"},{path:"start",canActivate:[Y],loadChildren:()=>import("./chunk-G7R2Y3PU.js").then(i=>i.START_ROUTES)},{path:"auth",component:j,children:[{path:"",pathMatch:"full",redirectTo:"login"},{path:"login",component:E},{path:"registration",component:N}]},{path:"**",pathMatch:"full",redirectTo:"start"}];var ne=(i,o)=>{let t=localStorage.getItem("token");if(t!==null){let e=i.clone({headers:i.headers.set("Authorization",`Bearer ${t}`)});return o(e)}return o(i)};var ie={providers:[z({eventCoalescing:!0}),V(q([ne])),K(te)]};var U=class i{constructor(o,t,e,l,v){this.authService=o;this.usersService=t;this.router=e;this.iconRegistry=l;let x=M=>v.bypassSecurityTrustResourceUrl(`../assets/images/icons/${M}.svg`);l.addSvgIconResolver(x)}_unsubscribe=new h;title="gallery";ngOnInit(){}ngOnDestroy(){this._unsubscribe.next(null),this._unsubscribe.complete()}static \u0275fac=function(t){return new(t||i)(r(f),r(y),r(d),r(W),r($))};static \u0275cmp=u({type:i,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"container"],[1,"content"]],template:function(t,e){t&1&&(a(0,"div",0)(1,"div",1),c(2,"router-outlet"),n()())},dependencies:[I],styles:[".container[_ngcontent-%COMP%]{position:relative;background-color:#3c3f41;color:#e1e1e1;min-height:100vh}.content[_ngcontent-%COMP%]{position:relative;z-index:2;width:100%}"],changeDetection:0})};H(U,ie).catch(i=>console.error(i));
